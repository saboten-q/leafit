/**
 * 植物個別ページの詳細コンテンツ
 * 育て方、Q&A、おすすめポイント等
 */

import { plantDatabase } from "./plant-database";
import type { PlantInfo } from "@/types/plant-diagnosis";

// 植物名からURLスラッグを生成
export function generateSlug(plantName: string): string {
  const slugMap: Record<string, string> = {
    "パキラ": "pakira",
    "モンステラ": "monstera",
    "ガジュマル": "gajumaru",
    "サンスベリア": "sansevieria",
    "ポトス": "pothos",
    "フィカス・ベンガレンシス": "ficus-benghalensis",
    "ドラセナ（幸福の木）": "dracaena",
    "シュガーバイン": "sugar-vine",
    "アイビー（ヘデラ）": "ivy",
    "シマトネリコ": "shimatoneriko",
    "コーヒーの木": "coffee-tree",
    "多肉植物（エケベリア等）": "echeveria",
    "テーブルヤシ": "table-palm",
    "アガベ": "agave",
    "シェフレラ（カポック）": "schefflera",
    "ザミオクルカス": "zamioculcas",
    "ペペロミア": "peperomia",
    "ユッカ（青年の木）": "yucca",
    "ゴムの木（バーガンディ）": "ficus-burgundy",
    "オリヅルラン": "chlorophytum",
    "ストレリチア（オーガスタ）": "strelitzia",
    "サボテン": "cactus",
    "ナギ（梛）": "nagi",
    "ワイヤープランツ": "wire-plant",
    "スパティフィラム": "spathiphyllum",
    "フランスゴムの木": "ficus-rubiginosa",
    "ピレア・ペペロミオイデス": "pilea",
    "アグラオネマ": "aglaonema",
    "リプサリス": "rhipsalis",
    "ハートカズラ": "heart-vine",
    "ソテツ": "cycad",
    "ハオルチア": "haworthia",
    "アスパラガス（ナナス）": "asparagus",
    "トックリラン": "beaucarnea",
    "金のなる木": "crassula-ovata",
    "フィカス・ウンベラータ": "ficus-umbellata",
    "エバーフレッシュ": "pithecellobium",
    "オリーブの木": "olive",
    "ユーカリ（ポポラス等）": "eucalyptus",
    "ビカクシダ（コウモリラン）": "platycerium",
    "ソフォラ（メルヘンの木）": "sophora",
    "グリーンネックレス": "green-necklace",
    "ミモザ（アカシア）": "mimosa",
    "カシワバゴムノキ": "ficus-lyrata",
    "アンスリウム": "anthurium",
    "ベンジャミン": "ficus-benjamina",
    "ディスキディア": "dischidia",
    "ポリシャス": "polyscias",
    "エアプランツ": "air-plant",
    "アジアンタム": "adiantum",
  };
  
  return slugMap[plantName] || plantName.toLowerCase().replace(/[・（）\s]/g, "-");
}

// スラッグから植物情報を取得
export function getPlantBySlug(slug: string): PlantInfo | undefined {
  return plantDatabase.find((plant) => generateSlug(plant.name) === slug);
}

// 全植物のスラッグリストを取得（静的生成用）
export function getAllPlantSlugs(): string[] {
  return plantDatabase.map((plant) => generateSlug(plant.name));
}

// 植物詳細コンテンツの型定義
export interface PlantDetailContent {
  // ヒーローセクション
  catchphrase: string; // キャッチコピー
  priceRange: string; // 価格帯
  size: string; // 成長後のサイズ
  temperature: string; // 適温
  
  // こんな人におすすめ
  recommendedFor: string[];
  
  // 育て方ガイド
  careGuide: {
    basic: string; // 基本の育て方
    watering: string; // 水やり
    placement: string; // 置き場所
    repotting: string; // 植え替え
    commonMistakes: string[]; // よくある失敗
  };
  
  // Q&A
  faq: {
    question: string;
    answer: string;
  }[];
  
  // SEO用
  metaDescription: string;
  keywords: string[];
}

// 植物詳細コンテンツデータベース
export const plantDetailContents: Record<string, PlantDetailContent> = {
  "pakira": {
    catchphrase: "育てやすさNo.1！初心者の味方",
    priceRange: "¥1,500〜¥8,000",
    size: "30cm〜150cm",
    temperature: "15℃〜30℃",
    recommendedFor: [
      "✓ 初めて植物を育てる",
      "✓ 風水や縁起物が好き",
      "✓ 成長を楽しみたい",
      "✓ リビングに大きな植物が欲しい",
    ],
    careGuide: {
      basic: "パキラは熱帯アメリカ原産の常緑高木です。日本では「発財樹（Money Tree）」として風水的にも人気があります。明るい室内であれば元気に育ち、剪定にも強いため初心者でも安心です。",
      watering: "土の表面が乾いたら、鉢底から水が流れ出るまでたっぷり与えます。春〜秋は週1〜2回、冬は週1回程度が目安。水のやりすぎは根腐れの原因になるので注意しましょう。",
      placement: "明るい室内が理想的です。レースカーテン越しの光が当たる場所がベスト。直射日光は葉焼けの原因になります。暗すぎる場所では徒長（ひょろ長く育つ）するので、ある程度の明るさを確保してください。",
      repotting: "2年に1回、春（4〜5月）または秋（9〜10月）に植え替えます。根詰まりすると成長が止まるので、鉢底から根が出ていたら植え替えのサイン。一回り大きな鉢に植え替えましょう。",
      commonMistakes: [
        "❌ 水のやりすぎで根腐れ → 土が乾いてから水やり",
        "❌ 冬の寒い場所に置いて葉が落ちる → 15℃以上をキープ",
        "❌ 暗い場所でひょろ長く育つ → 明るい場所に移動",
      ],
    },
    faq: [
      {
        question: "葉が黄色くなってきました。どうすればいい？",
        answer: "水のやりすぎか、逆に水不足の可能性があります。土の状態を確認し、適切な水やりを心がけてください。また、古い葉が自然に黄色くなって落ちることもあるので、全体的に元気なら心配ありません。",
      },
      {
        question: "冬に葉が落ちました。枯れた？",
        answer: "パキラは寒さで葉を落とすことがあります。15℃以下になると落葉しやすいですが、春になれば新芽が出てくることが多いです。暖かい場所に移動し、水やりを控えめにして様子を見ましょう。",
      },
      {
        question: "どれくらい大きくなりますか？",
        answer: "室内では通常50cm〜120cm程度です。剪定すればコンパクトに保てますし、逆に大きく育てたい場合は広い鉢に植え替えて日当たりの良い場所に置きましょう。",
      },
      {
        question: "編み込みの幹が緩んできました",
        answer: "成長すると編み込みが緩むことがあります。麻紐などで軽く固定するか、そのまま自然な姿を楽しむのも良いでしょう。無理に締め直すと幹を傷つける恐れがあります。",
      },
    ],
    metaDescription: "パキラは初心者でも育てやすい観葉植物No.1！風水的にも人気の「発財樹」。水やり頻度、置き場所、枯らさないコツを詳しく解説。",
    keywords: ["パキラ", "育て方", "観葉植物", "初心者", "発財樹", "風水", "水やり"],
  },
  
  "monstera": {
    catchphrase: "カフェスタイルの定番グリーン",
    priceRange: "¥2,000〜¥15,000",
    size: "30cm〜200cm",
    temperature: "15℃〜30℃",
    recommendedFor: [
      "✓ おしゃれな部屋にしたい",
      "✓ 南国風の雰囲気が好き",
      "✓ 存在感のある植物が欲しい",
      "✓ SNS映えする植物を探している",
    ],
    careGuide: {
      basic: "モンステラは中南米原産のつる性植物です。切れ込みの入った独特な葉が特徴で、インテリアグリーンとして絶大な人気を誇ります。成長が早く、気根を伸ばしながら育つ姿も魅力的です。",
      watering: "土の表面が乾いたらたっぷり水やりします。春〜秋は週1〜2回、冬は週1回程度。葉水（霧吹きで葉に水をかける）をすると葉がつやつやになり、害虫予防にもなります。",
      placement: "レースカーテン越しの明るい場所がベスト。直射日光は避けましょう。暗い場所でも育ちますが、葉の切れ込みが入りにくくなります。エアコンの風が直接当たらない場所を選んでください。",
      repotting: "1〜2年に1回、5〜6月に植え替えます。成長が早いので、鉢がきつくなったら大きめの鉢に植え替えましょう。支柱を立てると安定します。",
      commonMistakes: [
        "❌ 直射日光で葉焼け → カーテン越しの光に",
        "❌ 水不足で葉が丸まる → 土が乾いたらたっぷり水やり",
        "❌ 気根を切ってしまう → 気根は切らずに伸ばすか土に誘導",
      ],
    },
    faq: [
      {
        question: "葉に切れ込みが入りません",
        answer: "若い葉や、日照不足の環境では切れ込みが入りにくいです。明るい場所に移動し、肥料を与えて株を充実させると、次第に切れ込みの入った葉が出てきます。",
      },
      {
        question: "気根はどうすればいい？",
        answer: "気根はモンステラの特徴なので、切らずに伸ばすのがおすすめです。見た目が気になる場合は、土に誘導したり、支柱に巻きつけたりすると良いでしょう。",
      },
      {
        question: "葉が黄色くなって垂れています",
        answer: "水のやりすぎ、根詰まり、寒さなどが原因です。土の状態を確認し、必要なら植え替えを。黄色い葉は元に戻らないので、根元から切り取りましょう。",
      },
      {
        question: "どこまで大きくなる？",
        answer: "室内では1〜2m程度まで成長します。剪定すればコンパクトに保てますし、切った茎は水挿しで増やすこともできます。",
      },
    ],
    metaDescription: "モンステラはカフェスタイルに欠かせない人気の観葉植物。独特な切れ込み葉の育て方、水やり、置き場所のコツを初心者向けに解説。",
    keywords: ["モンステラ", "育て方", "観葉植物", "切れ込み", "気根", "おしゃれ", "インテリア"],
  },
  
  "gajumaru": {
    catchphrase: "幸せを呼ぶ沖縄の精霊の木",
    priceRange: "¥1,500〜¥10,000",
    size: "20cm〜150cm",
    temperature: "10℃〜30℃",
    recommendedFor: [
      "✓ 縁起の良い植物が欲しい",
      "✓ ユニークな見た目が好き",
      "✓ 丈夫で長く育てられる植物を探している",
      "✓ 沖縄や南国が好き",
    ],
    careGuide: {
      basic: "ガジュマルは沖縄などに自生する常緑高木で、「多幸の木」として親しまれています。気根が幹のように太くなる独特な姿が魅力。キジムナー（精霊）が宿るという言い伝えもあります。",
      watering: "土の表面が乾いたらたっぷり水やり。春〜秋は週2〜3回、冬は週1回程度。乾燥に強いので、少し乾かし気味でも大丈夫です。",
      placement: "日光が大好きな植物です。できるだけ日当たりの良い場所に置きましょう。ただし真夏の直射日光は葉焼けの原因になるので、レースカーテン越しが安心です。",
      repotting: "1〜2年に1回、5〜6月に植え替えます。根が張りやすいので、鉢底から根が出てきたら植え替えのサインです。",
      commonMistakes: [
        "❌ 日照不足で葉が落ちる → できるだけ明るい場所に",
        "❌ 水のやりすぎで根腐れ → 土が乾いてから水やり",
        "❌ 冬に屋外に放置して枯れる → 冬は室内で管理",
      ],
    },
    faq: [
      {
        question: "葉が落ちてきました",
        answer: "日照不足、水不足、環境の変化などが原因です。購入直後は環境の変化で葉が落ちることもありますが、適切な環境で育てれば回復します。",
      },
      {
        question: "気根が出ません",
        answer: "若い株や環境によっては気根が出にくいことがあります。湿度を高めに保ち、日当たりの良い場所で育てると気根が出やすくなります。",
      },
      {
        question: "形を整えたい",
        answer: "ガジュマルは剪定に強いので、5〜6月に好きな形に切り戻せます。切った枝は挿し木で増やすこともできます。",
      },
      {
        question: "冬に葉が黄色くなります",
        answer: "寒さや水のやりすぎが原因です。冬は10℃以上をキープし、水やりを控えめにしましょう。",
      },
    ],
    metaDescription: "ガジュマルは「多幸の木」として人気の観葉植物。独特な幹の形と育てやすさが魅力。水やり、日当たり、剪定方法を詳しく解説。",
    keywords: ["ガジュマル", "育て方", "多幸の木", "観葉植物", "キジムナー", "気根", "沖縄"],
  },
  
  "sansevieria": {
    catchphrase: "空気清浄No.1！手間いらずの優等生",
    priceRange: "¥1,000〜¥5,000",
    size: "20cm〜100cm",
    temperature: "10℃〜35℃",
    recommendedFor: [
      "✓ 忙しくて水やりを忘れがち",
      "✓ 空気をきれいにしたい",
      "✓ シンプルでスタイリッシュな植物が好き",
      "✓ 初心者でも絶対枯らしたくない",
    ],
    careGuide: {
      basic: "サンスベリアは「トラノオ（虎の尾）」の愛称で親しまれる多肉質の観葉植物。NASAの研究で空気清浄効果が実証され、マイナスイオンを放出することでも知られています。乾燥に極めて強く、ほぼ放置でOKです。",
      watering: "月に1〜2回で十分。春〜秋は土が完全に乾いてから3日後に水やり。冬は月1回か断水でもOK。水のやりすぎが最大の敵です。",
      placement: "明るい室内から半日陰まで幅広く対応。直射日光も大丈夫ですが、急に日向に出すと葉焼けするので徐々に慣らしましょう。",
      repotting: "2〜3年に1回、5〜7月に植え替え。根詰まりに強いので、急がなくても大丈夫です。水はけの良い土を使いましょう。",
      commonMistakes: [
        "❌ 水のやりすぎで根腐れ → 月1〜2回でOK",
        "❌ 冬に水をあげすぎて腐る → 冬は断水でも大丈夫",
        "❌ 葉を拭きすぎて表面が傷つく → 優しく拭くか、葉水を使う",
      ],
    },
    faq: [
      {
        question: "葉が黄色くなって柔らかいです",
        answer: "水のやりすぎによる根腐れの可能性が高いです。腐った部分を切り取り、乾燥させてから水やりを再開しましょう。冬は特に水やりを控えめに。",
      },
      {
        question: "葉が倒れてきました",
        answer: "水不足で葉がしおれているか、根腐れの可能性があります。土の状態を確認し、根腐れの場合は植え替えが必要です。",
      },
      {
        question: "子株が出てきました",
        answer: "株が充実している証拠です！そのまま育てても良いですし、株分けして増やすこともできます。株分けは5〜7月が適期です。",
      },
      {
        question: "空気清浄効果は本当？",
        answer: "NASAの研究で、ホルムアルデヒドなどの有害物質を吸収することが実証されています。ただし、大きな効果を期待するなら複数株置くのがおすすめです。",
      },
    ],
    metaDescription: "サンスベリアは空気清浄効果No.1の観葉植物。月1回の水やりでOKの手間いらずな育て方、枯れない管理方法を初心者向けに解説。",
    keywords: ["サンスベリア", "育て方", "空気清浄", "トラノオ", "観葉植物", "初心者", "水やり"],
  },
  
  "pothos": {
    catchphrase: "昭和からのロングセラー！つる性グリーンの王道",
    priceRange: "¥500〜¥3,000",
    size: "つる：50cm〜200cm以上",
    temperature: "15℃〜30℃",
    recommendedFor: [
      "✓ 吊るして飾りたい",
      "✓ 水耕栽培に挑戦したい",
      "✓ 増やして友達にあげたい",
      "✓ コスパの良い植物が欲しい",
    ],
    careGuide: {
      basic: "ポトスは東南アジア原産のつる性植物で、日本では昭和の時代から愛されています。最近は「ポトス・エンジョイ」など新品種も人気。水挿しで簡単に増やせるのも魅力です。",
      watering: "土の表面が乾いたらたっぷり水やり。春〜秋は週1〜2回、冬は週1回程度。葉水も喜びます。水耕栽培の場合は週1回水を替えましょう。",
      placement: "明るい室内から半日陰まで対応。直射日光は葉焼けの原因になるので避けましょう。暗すぎると斑が消えたり、徒長したりします。",
      repotting: "1〜2年に1回、5〜6月に植え替え。つるが伸びすぎたら切り戻して形を整えましょう。切ったつるは水に挿すだけで発根します。",
      commonMistakes: [
        "❌ 暗い場所で斑が消える → 明るい場所に移動",
        "❌ 水不足で葉が丸まる → 土が乾いたらたっぷり水やり",
        "❌ つるが絡まる → 定期的に剪定して整理",
      ],
    },
    faq: [
      {
        question: "水耕栽培はどうやるの？",
        answer: "つるを10〜15cmに切り、水を入れた容器に挿すだけです。1週間ほどで根が出てきます。水は週1回替えましょう。明るい室内で管理すれば長期間楽しめます。",
      },
      {
        question: "葉の斑が消えました",
        answer: "日照不足が原因です。斑入り品種は光が足りないと緑一色になります。明るい場所に移動すれば、新しく出る葉には斑が入ります。",
      },
      {
        question: "つるをどこまで伸ばせる？",
        answer: "環境が良ければ数メートルまで伸びます。好きな長さで切り戻してOKです。切ったつるは挿し木や水挿しで増やせます。",
      },
      {
        question: "葉が黄色くなります",
        answer: "古い葉が自然に黄色くなることもありますが、全体的に黄色い場合は水のやりすぎや根詰まりの可能性があります。",
      },
    ],
    metaDescription: "ポトスは初心者でも育てやすいつる性観葉植物。水耕栽培、増やし方、吊るし方など、基本の育て方を詳しく解説。",
    keywords: ["ポトス", "育て方", "水耕栽培", "観葉植物", "増やし方", "つる性", "初心者"],
  },
};

// デフォルトコンテンツ（個別データが未定義の植物用）
export const defaultPlantContent: PlantDetailContent = {
  catchphrase: "あなたの部屋にぴったりの植物",
  priceRange: "¥1,000〜¥5,000",
  size: "20cm〜100cm",
  temperature: "10℃〜30℃",
  recommendedFor: [
    "✓ 観葉植物を育ててみたい",
    "✓ お部屋に緑を取り入れたい",
    "✓ インテリアとして飾りたい",
  ],
  careGuide: {
    basic: "この植物は適切な環境で育てれば、初心者でも楽しめます。基本的な管理を守って、グリーンライフを楽しみましょう。",
    watering: "土の表面が乾いたらたっぷり水やりします。季節や環境に応じて調整してください。",
    placement: "適度な明るさのある場所に置きましょう。直射日光や暗すぎる場所は避けてください。",
    repotting: "1〜2年に1回、春か秋に植え替えましょう。根詰まりすると成長が止まります。",
    commonMistakes: [
      "❌ 水のやりすぎ → 土が乾いてから水やり",
      "❌ 日照不足 → 明るい場所に移動",
      "❌ 急激な環境変化 → 徐々に慣らす",
    ],
  },
  faq: [
    {
      question: "どれくらい大きくなりますか？",
      answer: "環境や品種によりますが、室内では30cm〜100cm程度が一般的です。剪定すればコンパクトに保てます。",
    },
    {
      question: "初心者でも育てられますか？",
      answer: "はい、基本的な水やりと日当たりの管理を守れば、初心者でも十分育てられます。",
    },
    {
      question: "冬の管理はどうすればいい？",
      answer: "寒さに弱い植物が多いので、10℃以上を保ち、水やりを控えめにしましょう。",
    },
  ],
  metaDescription: "この植物の育て方、水やり頻度、置き場所などを初心者向けに詳しく解説します。",
  keywords: ["観葉植物", "育て方", "初心者"],
};

// コンテンツを取得（存在しない場合はデフォルトを返す）
export function getPlantContent(slug: string): PlantDetailContent {
  return plantDetailContents[slug] || defaultPlantContent;
}

