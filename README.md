# 🌱 Leafit

部屋の日当たり条件から最適な植物を提案するWebアプリケーション

**Leafit（リーフィット）** = Leaf（葉）+ Fit（ぴったり）

## 🎯 コンセプト

「植物を育ててみたいけど、何を選べばいいかわからない…」
そんな初心者の方でも、簡単な質問に答えるだけで、あなたの部屋にぴったりの植物が見つかります！

## ✨ 主な機能

### 1. シンプルな3ステップ診断

**入力項目**
- 🧭 部屋の方角（北・東・南・西）
- 🪟 窓のサイズ（小・中・大の3段階）
- 📏 窓からの距離（0〜0.5m / 0.5〜1.5m / 1.5m以上）
- 🏢 邪魔する建物の有無（向かいに同じ高さ以上の建物がある / ない）

**出力内容**
- ☀️ 日照レベル（強い・普通・弱い・ほぼなし）+ スコア表示
- 🪴 おすすめの植物リスト（難易度・水やり頻度も表示）
- 💡 具体的なアドバイス

### 2. 植物データベース

**50種類**の人気観葉植物を収録
- 多肉植物・サボテン（エケベリア、アガベ、サボテンなど）
- 日光が好きな植物（ガジュマル、オリーブ、ユーカリなど）
- 中程度の光を好む植物（ポトス、モンステラ、パキラなど）
- 耐陰性が強い植物（サンスベリア、ドラセナ、スパティフィラムなど）
- 低光量でも育つ植物（ザミオクルカス、アグラオネマなど）

各植物には以下の情報を記載：
- 具体的な品種例
- 育てやすさ（初心者向け / 中級者向け / 上級者向け）
- 水やり頻度
- 花言葉
- 楽天商品（画像・価格・レビュー）3件表示
- 楽天アフィリエイトリンク

### 3. シェア機能 🔗

診断結果をURLで共有可能！
- 「シェア用URLを生成」ボタンをクリック
- URLをコピーして友達に送信
- 友達が開くと同じ診断結果が表示される

## 🛠 技術スタック

- **フレームワーク**: Next.js 15 (App Router)
- **言語**: TypeScript
- **スタイリング**: Tailwind CSS
- **診断ロジック**: ルールベースのスコアリングシステム（純関数実装）

## 📁 プロジェクト構成

```
├── app/
│   ├── layout.tsx          # ルートレイアウト
│   ├── page.tsx            # メインページ（診断UI）
│   └── globals.css         # グローバルスタイル
├── lib/
│   ├── diagnosis-engine.ts # 診断ロジック（純関数）
│   └── plant-database.ts   # 植物データベース
├── types/
│   └── plant-diagnosis.ts  # TypeScript型定義
├── package.json
├── tsconfig.json
└── tailwind.config.ts
```

## 🚀 セットアップと実行

### 開発サーバーの起動

```bash
npm run dev
```

ブラウザで [http://localhost:3000](http://localhost:3000) を開いてください。

### ビルド

```bash
npm run build
```

### 本番サーバーの起動

```bash
npm run start
```

## 📱 使い方

### 基本的な使い方

1. **部屋の方角を選択**: 北・東・南・西から選択
2. **窓のサイズを選択**: 小・中・大から選択
3. **植物を置く場所を選択**: 窓からの距離を3段階から選択
4. **向かいの建物**: あり / なしを選択
5. **診断ボタンをクリック**: 右側に結果が表示されます
6. **おすすめ植物をチェック**: 各植物の詳細情報と育て方のヒントを確認

### シェア機能の使い方

1. 診断結果画面で「シェア用URLを生成」ボタンをクリック
2. 表示されたURLをコピー
3. SNSやメッセージアプリで友達に送信
4. 友達がURLを開くと、同じ診断結果が自動的に表示されます

## 🛍️ 楽天商品連携

### 商品表示の仕組み

- **自動取得**: 各植物について楽天APIから人気商品を自動取得
- **3件表示**: 商品画像・価格・レビュー・ショップ名を表示
- **アフィリエイトリンク**: 商品クリックで楽天の商品ページに遷移（収益化対応）

### カスタム検索キーワード

特定の植物に対してカスタム検索キーワードを設定可能：

```typescript
// lib/plant-database.ts
{
  name: "多肉植物（エケベリア等）",
  searchKeyword: "エケベリア 観葉植物", // カスタムキーワード
  // ...
}
```

未設定の場合は「観葉植物 ${植物名}」で自動検索されます。

## 🧮 診断アルゴリズム

### スコアリングシステム

1. **方角による基礎スコア**
   - 南向き: 100点
   - 東向き: 80点
   - 西向き: 70点
   - 北向き: 30点

2. **窓のサイズによる補正**
   - 大: 1.2倍
   - 中: 1.0倍
   - 小: 0.7倍

3. **距離による減衰**
   - 近い（0〜0.5m）: 0点減点
   - 中間（0.5〜1.5m）: -15点
   - 遠い（1.5m以上）: -30点

4. **建物による減衰**
   - 障害物あり: -25点

### 日照レベル判定

- **強い** (75点以上): 日光が大好きな植物を育てられる
- **普通** (50〜74点): 多くの観葉植物が育つ
- **弱い** (25〜49点): 耐陰性のある植物が適している
- **ほぼなし** (0〜24点): 低光量に強い植物か育成ライトが必要

## 🎨 デザインの特徴

- 🎨 初心者にも優しい直感的なUI
- 🔘 大きなボタンで選択しやすい
- 📱 完全レスポンシブ対応（PC・タブレット・スマホ）
- 🌓 ダークモード対応
- 🎨 植物をイメージした緑系のグラデーション

## 🔜 今後の拡張案

- [ ] より多くの植物データの追加
- [ ] 季節による診断結果の変動
- [ ] SNSシェアボタン（Twitter、LINE等）
- [ ] お気に入り機能
- [ ] 植物ケアのリマインダー機能
- [ ] ユーザーレビュー機能

## 📝 ライセンス

MIT

## ⚠️ 注意事項

このアプリケーションは初心者向けのガイドツールです。
実際の植物の生育には個体差や環境の変動があります。
育てながら観察し、植物の様子を見て調整してください。

---

🌱 Happy Planting! 🌱
